# 自我进化框架 - Self-Evolution Framework

## 核心原则

1. **问题驱动进化** - 每个 bug 都是进化机会
2. **自动化优先** - 能自动修复的不要手动
3. **记录一切** - 问题、解决方案、效果都要记录
4. **闭环验证** - 修复后要验证效果

## 进化周期

```
发现问题 → 分析根因 → 设计方案 → 实施修复 → 验证效果 → 记录学习
    ↑                                                      ↓
    ←←←←←←←←←←←←←←← 下次遇到同类问题 ←←←←←←←←←←←←←←←←←←←←←
```

## 自动化层级

### L1: 即时自动修复
- Agent 卡在确认界面 → 自动发送确认
- Context 低于 20% → 自动重启
- 进程死亡 → 自动重启

### L2: 定期检查修复
- 每 5 分钟健康检查
- 每 4 小时进化检查
- 每天汇总报告

### L3: 学习型修复
- 记录问题模式到 Redis 学习库
- 下次遇到相同问题直接应用已知方案
- 统计方案成功率，淘汰低效方案

## 学习库结构

```
openclaw:learning:deadlock:<agent>     - 死锁解决方案
openclaw:learning:confirm:<cli_type>   - 确认处理方案
openclaw:learning:context:<agent>      - Context 管理方案
openclaw:learning:task:<type>          - 任务处理方案
```

## 进化指标

| 指标 | 目标 | 当前 |
|------|------|------|
| Agent 恢复次数/天 | < 5 | 监控中 |
| 死锁检测时间 | < 5 分钟 | 5 分钟 |
| Context 溢出次数/天 | 0 | 监控中 |
| 任务完成率 | > 90% | 监控中 |

## 脚本清单

| 脚本 | 功能 | 触发方式 |
|------|------|----------|
| `agent-health.sh` | 健康检查+自动恢复 | Cron 5分钟 |
| `self-evolve.sh` | 进化检查+记录 | Cron 4小时 |
| `start-agents.sh` | 启动/重启 agent | 手动/自动 |
| `context-compressor.sh` | Context 压缩 | 自动触发 |

## 进化日志

所有进化记录保存在 `memory/evolution-log.md`

---

*我是指挥官，我要不断进化，独当一面。*
