# 自我进化框架 v2.0

## 核心原则

**触发式进化，不是定时进化**

每次解决问题后立即学习，不等定时任务。

## 进化触发点

1. **健康检查恢复 agent** → 记录问题+解决方案
2. **发现新问题模式** → 更新检测脚本
3. **手动修复问题** → 调用 learn.sh 记录

## 学习流程

```
问题发生 → 自动/手动修复 → learn.sh 记录 → Redis 学习库更新
                                    ↓
                            下次遇到直接应用
```

## 脚本职责

| 脚本 | 触发 | 职责 |
|------|------|------|
| `agent-health.sh` | Cron 5分钟 | 检测+恢复+学习 |
| `learn.sh` | 每次修复后 | 记录问题和方案 |
| `self-evolve.sh` | 手动 | 汇总分析 |

## 学习库 (Redis)

```
openclaw:learn:<问题类型>
  - count: 发生次数
  - success: 成功修复次数
  - last_solution: 最后使用的方案
  - last_agent: 最后发生的 agent
  - last_time: 最后发生时间
```

## 进化日志

`memory/evolution-log.md` - 简洁格式：
```
- `HH:MM:SS` **问题** @ agent → 解决方案
```

---

*问题即机会，修复即进化*
